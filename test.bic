//:#include <cstdio>
//:#include <cstring>

class String {
    pub mut m_data: char*;
    priv mut m_size: int;

    pub String() {
        m_data = null;
        m_size = 0;
    }

    pub String(data : const char*) {
        .m_size = strlen(data);
        .m_data = new char[.m_size + 1];
        .m_data[.m_size] = 0;
        memcpy(.m_data, data, .m_size);
    }

    pub Size() const -> int {
        ret .m_size;
    }
}

print(str : char*) -> void {
    printf("%s", str);
}

print(str : const String&) -> void {
    printf("%s", str.m_data);
}

print(val : int) -> void {
    printf("%d", val);
}

print(val : float) -> void {
    printf("%f", val);
}

print(val : double) -> void {
    printf("%f", val);
}

print(val : bool) -> void {
    if (val) {
        printf("true");
    } else {
        printf("false");
    }
}

print(val : char) -> void {
    printf("%c", val);
}

print<T : type>(o : const T&) -> void {
    printf(o);
}

print<E : type, T : type...>(o : const E&, args : const T&...) -> void {
    print(o);
    print(args...);
}

main() -> int {
    mut s : String = String("Hello, ");
    
    print(s, "World!");
    
    ret 0;
}